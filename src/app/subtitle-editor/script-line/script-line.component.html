<div fxLayout="row" [ngClass]="{'script-container': true, 'active': indexActive === index}"
  fxLayoutAlign="center center" (click)="onLineClick()">
  <div fxLayout="column" fxLayoutAlign="center center" style="margin-top: 8px;">
    <span style="font-size: small">{{index+1}}</span>
    <mat-icon *ngIf="paused || indexActive !== index" style="transform: scale(0.6); margin-top: -3px; cursor: pointer;"
      (click)="onPlayRegion()">
      play_arrow</mat-icon>
    <mat-icon *ngIf="!paused && indexActive === index" style="transform: scale(0.6); margin-top: -3px; cursor: pointer;"
      (click)="onPause()">pause</mat-icon>
  </div>
  <div fxLayout="column" fxLayoutAlign="center center" style="margin-left: 12px; margin-top: 10px;">
    <mat-form-field style="width: 56px; margin:-17px 0" appearance="none">
      <input type="text" matInput #startInput [ngModel]="startTime" pattern="^[0-5][0-9]:[0-5][0-9].[0-9]{2}"
        [ngClass]="{'overlap':overlappingBegin}" (focus)="oldStart=$event.target.value" (focusout)="updateStart($event)"
        style="color: gray; font-size: small;">
    </mat-form-field>
    <mat-form-field style="width: 56px; margin:-17px 0" appearance="none">
      <input type="text" matInput #endInput [ngModel]="endTime" pattern="^[0-5][0-9]:[0-5][0-9].[0-9]{2}"
        [ngClass]="{'overlap':overlappingEnd}" (focus)="oldEnd=$event.target.value" (focusout)="updateEnd($event)"
        style="color: gray; font-size: small;">
    </mat-form-field>
  </div>
  <div fxLayout="column" style="width: 100%;">
    <mat-form-field style="width: 100%; margin-bottom: -25px; margin-top: -14px" appearance="none">
      <textarea #scriptInput matInput [(ngModel)]="script[index]" class="text-preview" rows="1"
        (click)="scriptInputFocused=true"></textarea>
    </mat-form-field>
    <hr class="underline"/>
    <mat-form-field style="width: 100%; margin-bottom: -25px; margin-top: -14px" appearance="none">
      <textarea #scriptTranslationInput matInput [(ngModel)]="scriptTranslation[index]" class="text-preview"
        rows="1"></textarea>
    </mat-form-field>
  </div>
</div>
